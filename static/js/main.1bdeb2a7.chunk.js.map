{"version":3,"sources":["images/vplaceholder.png","components/ControlPanel.js","components/Camera.js","components/ImageUpload.js","components/Painter.js","components/Showcase.js","components/Display.js","components/App.js","index.js","images/placeholder.png"],"names":["module","exports","ControlPanel","props","state","cameraClass","uploadClass","logs","setCamera","setState","setInputMode","addLog","setUpload","text","col","push","style","color","fontWeight","prerender","log","this","className","onClick","React","Component","videoConstraints","width","height","facingMode","Camera","webcamRef","useRef","capture","useCallback","imageSrc","current","getScreenshot","console","onCapture","audio","ref","minScreenshotHeight","minScreenshotWidth","ImageUpload","handleChange","eve","file","URL","createObjectURL","target","files","onSelect","img","undefined","type","onChange","accept","FaceNormalizer","landmarks","getNose","getLeftEye","getRightEye","mouth","getMouth","mx","x","my","y","sx","sy","ex","ey","angle","Math","atan2","PI","hypot","d","cos","sin","extra","leftEye","rightEye","lpx","lpy","rpx","rpy","llpx","llpy","pangle","jaw","getJawOutline","dx","dy","FacePainter","canvas","drawImage","drawing","a","ctx","resetTransform","translate","rotate","Promise","resolve","reject","onload","ratio","restore","getContext","lineWidth","strokeStyle","fillStyle","face","save","debug","fillRect","imgSrc","eyes","getEyesEnds","Image","src","dot","getMouthMid","dm","move","nangle","neck","getNeck","xx","yy","SWAG_GLASS","process","Showcase","print","msg","postProcessing","results","clear","ww","beginPath","moveTo","lineTo","stroke","hh","resizeResults","result","displaySize","faceapi","detactFaces","useTinyModel","ssdMobilenetv1","params","showLog","withFaceLandmarks","length","fp","putGlasses","putChain","putCigar","downlaodPhoto","link","document","createElement","innerHTML","addEventListener","ev","href","toDataURL","download","click","detect5Points","drawFaceLandmarks","detectFaces","getElementById","setSpan","imgRef","cHeight","clientHeight","cWidth","clientWidth","fwidth","fheight","oRatio","naturalWidth","naturalHeight","cRatio","cwidth","cheight","createRef","detectNow","pic","placeholder","id","store","ToastsStore","Display","onPhoto","inMode","getRenderContent","App","logMsg","mode","loadDetectionModel","loadLandmarkModel","loadExpressionModel","loadMtcnnModel","ReactDOM","render"],"mappings":"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","file":"static/js/main.1bdeb2a7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import \"./ControlPanel.css\";\nimport React from \"react\";\n\nclass ControlPanel extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\tstate = {\n\t\tcameraClass: \"btnActive\",\n\t\tuploadClass: \"btnInActive\",\n\t\tlogs: []\n\t};\n\tsetCamera = () => {\n\t\tthis.setState({ cameraClass: \"btnActive\", uploadClass: \"btnInactive\" });\n\t\tthis.props.setInputMode(\"camera\");\n\t\tthis.addLog(\"Camera Set\");\n\t};\n\n\tsetUpload = () => {\n\t\tthis.setState({ cameraClass: \"btnInactive\", uploadClass: \"btnActive\" });\n\t\tthis.props.setInputMode(\"browse\");\n\t\tthis.addLog(\"File brower set\");\n\t};\n\n\taddLog = (text, col = \"#94ffc8\") => {\n\t\tif(!text){\n\t\t\treturn false;\n\t\t}\n\t\tthis.state.logs.push(\n\t\t\t<span style={{ color: col, fontWeight: \"bold\" }}>\n\t\t\t\t$ &nbsp;&nbsp;{text}\n\t\t\t\t<br />\n\t\t\t</span>\n\t\t);\n\t\tthis.setState({\n\t\t\tlogs: this.state.logs\n\t\t});\n\t};\n\n\n\tprerender= ()=>{\n\t\tif(!this.props.log){\n\t\t\treturn false;\n\t\t}\n\t\tthis.state.logs.push(\n\t\t\t<span style={{ color: \"#94ffc8\", fontWeight: \"bold\" }}>\n\t\t\t\t$ &nbsp;&nbsp;{this.props.log}\n\t\t\t\t<br />\n\t\t\t</span>\n\t\t);\n\t}\n\n\n\trender() {\n\t\tthis.prerender();\n\t\treturn (\n\t\t\t<div className=\"control-panel\">\n\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t<div className=\"screen\">{this.state.logs}</div>\n\t\t\t\t\t<div className=\"uploadBtnWrapper\">\n\t\t\t\t\t\t<button onClick={this.setCamera} className={this.state.cameraClass}>\n\t\t\t\t\t\t\tCamera\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button onClick={this.setUpload} className={this.state.uploadClass}>\n\t\t\t\t\t\t\tUpload\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ControlPanel;\n","import \"./Camera.css\";\nimport React from \"react\";\nimport Webcam from \"react-webcam\";\n\nconst videoConstraints = {\n\twidth: 1280,\n\theight: 720,\n\tfacingMode: \"user\"\n};\n\nconst Camera = props => {\n\tconst webcamRef = React.useRef(null);\n\n\tconst capture = React.useCallback(() => {\n\t\tconst imageSrc = webcamRef.current.getScreenshot();\n\t\tconsole.log(\"Pic captured\");\n\t\tprops.onCapture(imageSrc);\n\t}, [webcamRef]);\n\n\treturn (\n\t\t<div className=\"camera\">\n\t\t\t<p className=\"smileP\">Smile Please...</p>\n\t\t\t<Webcam\n\t\t\t\taudio={false}\n\t\t\t\tclassName=\"cameraView\"\n\t\t\t\tref={webcamRef}\n\t\t\t\tvideoConstraints={videoConstraints}\n\t\t\t\tminScreenshotHeight=\"720\"\n\t\t\t\tminScreenshotWidth=\"1280\"\n\t\t\t/>\n\t\t\t<button className=\"snapBtn\" onClick={capture}>\n\t\t\t\tCapture\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default Camera;\n","import \"./ImageUpload.css\";\nimport React from \"react\";\n\nclass ImageUpload extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { img: undefined };\n\t}\n\n\thandleChange = eve => {\n\t\tconsole.log(\"Picture selected\");\n\t\tlet file = URL.createObjectURL(eve.target.files[0]);\n\t\tthis.props.onSelect(file);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"image-upload\">\n\t\t\t\t<p className=\"smileP\">Select Image</p>\n\t\t\t\t<div className=\"fileUpload\">\n\t\t\t\t\t<button>Upload</button>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"upload\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{/* <img src={this.state.file} />\n\t\t\t\t<button className=\"proceedBtn\">Proceed</button> */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ImageUpload;\n","export const paint = () => {\n\tconsole.log(\"Painting....\");\n};\n\n// (0, 0) at top-left\n// horizontal x, vertical y\n// Angle clockwise\n\nclass FaceNormalizer {\n\tconstructor(landmarks) {\n\t\tthis.landmarks = landmarks;\n\t}\n\n\tgetNose() {\n\t\treturn this.landmarks.getNose();\n\t}\n\n\tgetEyes() {\n\t\tlet leftEye = this.landmarks.getLeftEye();\n\t\tlet rightEye = this.landmarks.getRightEye();\n\t\treturn [leftEye, rightEye];\n\t}\n\n\tgetMouthMid() {\n\t\tlet mouth = this.landmarks.getMouth();\n\n\t\tlet mx = mouth[18].x; //lower lips mid\n\t\tlet my = mouth[18].y;\n\n\t\tlet sx = mouth[0].x; //mouth start\n\t\tlet sy = mouth[0].y;\n\t\tlet ex = mouth[6].x; //mouth end\n\t\tlet ey = mouth[6].y;\n\t\tlet angle = Math.atan2(ey - sy, ex - sx);\n\t\tangle = angle + Math.PI / 2;\n\t\tlet distance = Math.hypot(ex - sx, ey - sy);\n\t\treturn [mx, my, angle, distance];\n\t}\n\n\tmove(x, y, angle, d) {\n\t\tlet dx = d * Math.cos(angle);\n\t\tlet dy = d * Math.sin(angle);\n\t\tlet xx = x - dx;\n\t\tlet yy = y - dy;\n\t\treturn [xx, yy];\n\t}\n\n\tgetEyesEnds(extra = -1) {\n\t\tlet leftEye = this.landmarks.getLeftEye();\n\t\tlet rightEye = this.landmarks.getRightEye();\n\n\t\tlet lpx = leftEye[0].x;\n\t\tlet lpy = leftEye[0].y;\n\t\tlet rpx = rightEye[3].x;\n\t\tlet rpy = rightEye[3].y;\n\n\t\t//let width = rpx - lpx;\n\t\tlet width = Math.hypot(rpx - lpx, rpy - lpy);\n\t\tconst angle = Math.atan2(rpy - lpy, rpx - lpx);\n\t\tif (extra === -1) {\n\t\t\textra = width / 4;\n\t\t}\n\t\tlet llpx = extra * Math.cos(angle);\n\t\tlet llpy = extra * Math.sin(angle);\n\t\tlpx = lpx - llpx;\n\t\tlpy = lpy - llpy;\n\n\t\tlet pangle = angle + Math.PI / 2;\n\t\tllpx = (extra / 4) * Math.cos(pangle);\n\t\tllpy = (extra / 4) * Math.sin(pangle);\n\t\tlpx = lpx - llpx;\n\t\tlpy = lpy - llpy;\n\n\t\twidth = width + extra * 2;\n\t\treturn [lpx, lpy, width, angle];\n\t}\n\n\tgetNeck() {\n\t\tlet jaw = this.landmarks.getJawOutline();\n\t\tlet sx = jaw[6].x;\n\t\tlet sy = jaw[6].y;\n\t\tlet dx = jaw[11].x;\n\t\tlet dy = jaw[11].y;\n\n\t\tlet distance = Math.hypot(dx - sx, dy - sy);\n\t\tconst angle = Math.atan2(dy - sy, dx - sx);\n\t\treturn [sx, sy, distance, angle, dx, dy];\n\t}\n}\n\nexport class FacePainter {\n\tconstructor(img, canvas, landmarks) {\n\t\tthis.img = img;\n\t\tthis.canvas = canvas;\n\t\tthis.ctx = this.canvas.getContext(\"2d\");\n\t\tthis.ctx.lineWidth = 5;\n\t\tthis.ctx.strokeStyle = \"#6bfffd\";\n\t\tthis.ctx.fillStyle = \"#6bfffd\";\n\t\tthis.landmarks = landmarks;\n\t\tthis.face = new FaceNormalizer(landmarks);\n\t\tthis.ctx.save();\n\t\tthis.debug = true;\n\t}\n\n\tdot(x, y, color = \"#6bfffd\") {\n\t\tif (this.debug) {\n\t\t\tthis.ctx.fillStyle = color;\n\t\t\tthis.ctx.fillRect(x, y, 5, 5);\n\t\t}\n\t}\n\n\tdrawImage = async (drawing, width, x, y, angle) => {\n\t\tthis.ctx.resetTransform();\n\t\tthis.ctx.translate(x, y);\n\t\tthis.ctx.rotate(angle);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tdrawing.onload = async () => {\n\t\t\t\tlet ratio = drawing.width / width;\n\t\t\t\tlet height = drawing.height / ratio;\n\t\t\t\tawait this.ctx.drawImage(drawing, 0, 0, width, height);\n\t\t\t\tthis.ctx.restore();\n\t\t\t\tresolve(true);\n\t\t\t};\n\t\t});\n\t};\n\n\tasync putGlasses(imgSrc, debug = true) {\n\t\tthis.debug = debug;\n\t\tthis.ctx.save();\n\t\tlet eyes = this.face.getEyesEnds();\n\t\tlet lpx = eyes[0];\n\t\tlet lpy = eyes[1];\n\t\tlet width = eyes[2];\n\t\tlet angle = eyes[3];\n\n\t\tlet drawing = new Image();\n\t\tdrawing.src = imgSrc;\n\n\t\tthis.dot(lpx, lpy);\n\n\t\tawait this.drawImage(drawing, width, lpx, lpy, angle);\n\t}\n\n\tasync putCigar(imgSrc, debug = true) {\n\t\tthis.debug = debug;\n\t\tthis.ctx.save();\n\t\tlet mouth = this.face.getMouthMid();\n\t\tlet x = mouth[0];\n\t\tlet y = mouth[1];\n\t\tlet angle = mouth[2];\n\t\tlet d = mouth[3];\n\t\td = d + d / 2;\n\n\t\tlet pangle = angle - Math.PI / 2;\n\n\t\tlet dm = this.face.move(x, y, pangle, d);\n\t\tlet dx = dm[0];\n\t\tlet dy = dm[1];\n\n\t\tthis.dot(x, y);\n\t\tthis.dot(dx, dy);\n\n\t\tlet drawing = new Image();\n\t\tdrawing.src = imgSrc;\n\n\t\tlet nangle = Math.atan2(y - dy, x - dx);\n\n\t\tawait this.drawImage(drawing, d, dx, dy, nangle);\n\t}\n\n\tasync putChain(imgSrc, debug = true) {\n\t\tthis.debug = debug;\n\t\tthis.ctx.save();\n\t\tlet neck = this.face.getNeck();\n\t\tlet x = neck[0];\n\t\tlet y = neck[1];\n\t\tlet width = neck[2];\n\t\tlet angle = neck[3];\n\t\tlet xx = neck[4];\n\t\tlet yy = neck[5];\n\n\t\tthis.dot(x, y, \"yellow\");\n\t\tthis.dot(xx, yy, \"yellow\");\n\n\t\tlet extra = 2.5;\n\t\tlet dm = this.face.move(x, y, angle, width / extra);\n\t\tlet dx = dm[0];\n\t\tlet dy = dm[1];\n\t\twidth = width + (2 * width) / extra;\n\n\t\tthis.dot(dx, dy, \"yellow\");\n\n\t\tlet drawing = new Image();\n\t\tdrawing.src = imgSrc;\n\n\t\tawait this.drawImage(drawing, width, dx, dy, angle);\n\t}\n}\n","import \"./Showcase.css\";\nimport React from \"react\";\nimport { ToastsContainer, ToastsStore } from \"react-toasts\";\nimport { render } from \"@testing-library/react\";\nimport placeholder from \"../images/placeholder.png\";\nimport vplaceholder from \"../images/vplaceholder.png\";\nimport { FacePainter } from \"./Painter\";\n\nimport * as faceapi from \"face-api.js\";\nconst MODEL_URL = process.env.PUBLIC_URL + \"/models\";\nconst minConfidence = 0.6;\n\nconst SWAG_GLASS = process.env.PUBLIC_URL + \"/images/swag_glass_cropped.png\";\nconst SWAG_CIGAR = process.env.PUBLIC_URL + \"/images/cigra_modi.png\";\nconst SWAG_CHAIN = process.env.PUBLIC_URL + \"/images/chain.png\";\n\nclass Showcase extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { cwidth: 0, cheight: 0 };\n\t\tthis.imgRef = React.createRef();\n\t}\n\n\tprint = msg => {\n\t\tconsole.log(msg);\n\t};\n\n\tpostProcessing = (img, canvas, results) => {\n\t\tconsole.clear();\n\t\tthis.print(\"Post processing\");\n\t\tlet landmarks = results.landmarks;\n\t\tthis.print(landmarks);\n\n\t\tlet nose = landmarks.getNose();\n\t\tlet leftEye = landmarks.getLeftEye();\n\t\tlet rightEye = landmarks.getRightEye();\n\t\tthis.print(leftEye);\n\t\tthis.print(rightEye);\n\n\t\tlet lpx = leftEye[0].x;\n\t\tlet lpy = leftEye[0].y;\n\t\tlet rpx = rightEye[3].x;\n\t\tlet rpy = rightEye[3].y;\n\n\t\tlet ww = rpx - lpx;\n\t\tconst angle = Math.atan2(rpy - lpy, rpx - lpx);\n\t\t//* (180 / Math.PI);  //degree\n\t\tlet extra = ww / 5;\n\n\t\tlet llpx = extra * Math.cos(angle);\n\t\tlet llpy = extra * Math.sin(angle);\n\t\tlpx = lpx - llpx;\n\t\tlpy = lpy - llpy;\n\t\tww = ww + extra * 2;\n\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t\tctx.beginPath();\n\t\tctx.moveTo(lpx, lpy);\n\t\tctx.lineTo(rpx, rpy);\n\t\tctx.stroke();\n\n\t\tlet drawing = new Image();\n\t\tdrawing.src = SWAG_GLASS; // can also be a remote URL e.g. http://\n\n\t\tctx.translate(lpx, lpy);\n\t\tctx.rotate(angle);\n\n\t\tdrawing.onload = function() {\n\t\t\tlet ratio = drawing.width / ww;\n\t\t\tlet hh = drawing.height / ratio;\n\t\t\tctx.drawImage(drawing, 0, 0, ww, hh);\n\n\t\t\tconsole.log(\"Width: \" + ww);\n\t\t\tconsole.log(\"Height: \" + hh);\n\t\t\tctx.rotate(-angle);\n\t\t\tctx.translate(0, 0);\n\t\t};\n\t};\n\n\tresizeResults = (img, canvas, result) => {\n\t\tconst displaySize = { width: img.width, height: img.height };\n\t\tfaceapi.matchDimensions(canvas, displaySize);\n\t\treturn faceapi.resizeResults(result, displaySize);\n\t};\n\n\tdetactFaces = async (img, canvas) => {\n\t\tlet useTinyModel = true;\n\t\tconsole.log(\"Start Face Detection\");\n\t\tconsole.log(faceapi.nets.ssdMobilenetv1);\n\t\tif (!!faceapi.nets.ssdMobilenetv1.params) {\n\t\t\tconsole.log(\"Model Loaded\");\n\t\t} else {\n\t\t\tconsole.log(\"Model not loaded yet\");\n\t\t\tthis.props.showLog(\"Model not loaded yet\");\n\t\t\treturn true;\n\t\t}\n\t\tconst result = await faceapi\n\t\t\t.detectSingleFace(img)\n\t\t\t.withFaceLandmarks(useTinyModel);\n\t\t//.withFaceExpressions();\n\t\tconsole.log(\"Got the results\");\n\n\t\tlet resizeResults = this.resizeResults(img, canvas, result);\n\n\t\tif (resizeResults.length === 0) {\n\t\t\tthis.props.showLog(\"No face found\");\n\t\t\treturn true;\n\t\t}\n\n\t\tconsole.log(\"Showing Detection Results\");\n\t\tconsole.log(resizeResults);\n\n\t\t//faceapi.draw.drawDetections(canvas, resizeResults);\n\t\tthis.props.showLog(\"Face detected\");\n\n\t\t// faceapi.draw.drawFaceLandmarks(canvas, resizeResults);\n\t\tthis.props.showLog(\"Face landmark detected\");\n\n\t\t// faceapi.draw.drawFaceExpressions(canvas, resizeResults);\n\t\t// this.props.showLog(\"Face expression detected\");\n\n\t\t//this.postProcessing(img, canvas, resizeResults);\n\t\tlet fp = new FacePainter(img, canvas, resizeResults.landmarks);\n\t\tawait fp.putGlasses(SWAG_GLASS, false);\n\t\tthis.props.showLog(\"Glasses Put\");\n\t\tawait fp.putChain(SWAG_CHAIN, false);\n\t\tthis.props.showLog(\"Chain Put\");\n\t\tawait fp.putCigar(SWAG_CIGAR, false);\n\t\tthis.props.showLog(\"Cigra Put\");\n\t\t//this.downlaodPhoto(canvas);\n\t};\n\n\tdownlaodPhoto = canvas => {\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.innerHTML = \"Download Image\";\n\t\tlink.addEventListener(\n\t\t\t\"click\",\n\t\t\tfunction(ev) {\n\t\t\t\tlink.href = canvas.toDataURL();\n\t\t\t\tlink.download = \"mypainting.png\";\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t\tlink.click();\n\t};\n\n\tdetect5Points = async (img, canvas) => {\n\t\tlet result = await faceapi.mtcnn(img);\n\t\tlet resizeResults = this.resizeResults(img, canvas, result);\n\t\tfaceapi.draw.drawFaceLandmarks(canvas, resizeResults);\n\t\tthis.props.showLog(\"Face landmark 5 point detected\");\n\t};\n\n\tdetectFaces = async () => {\n\t\tconst img = document.getElementById(\"myImg\");\n\t\tconst canvas = document.getElementById(\"myCan\");\n\n\t\ttry {\n\t\t\tawait this.detactFaces(img, canvas);\n\t\t\t//await this.detect5Points(img, canvas);\n\t\t} catch (err) {\n\t\t\tconsole.log(\"Model Not Loaded\");\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.imgRef.current.addEventListener(\"load\", this.setSpan);\n\t\tif (this.props.detectNow) {\n\t\t\tthis.detectFaces();\n\t\t} else {\n\t\t\tthis.props.showLog(\"Auto face detection disabled\");\n\t\t}\n\t}\n\n\tsetSpan = () => {\n\t\tconsole.log(this.imgRef);\n\t\tlet cHeight = this.imgRef.current.clientHeight;\n\t\tlet cWidth = this.imgRef.current.clientWidth;\n\t\tlet width = this.imgRef.current.naturalWidth;\n\t\tlet height = this.imgRef.current.naturalHeight;\n\t\tlet contains = true;\n\t\tlet fwidth = 0;\n\t\tlet fheight = 0;\n\n\t\tlet oRatio = width / height;\n\t\tlet cRatio = cWidth / cHeight;\n\n\t\tif (contains ? oRatio > cRatio : oRatio < cRatio) {\n\t\t\tfwidth = cWidth;\n\t\t\tfheight = cWidth / oRatio;\n\t\t} else {\n\t\t\tfwidth = cHeight * oRatio;\n\t\t\tfheight = cHeight;\n\t\t}\n\n\t\tconsole.log(\"finalWidth: \" + fwidth);\n\t\tconsole.log(\"finalHeight: \" + fheight);\n\t};\n\n\trender() {\n\t\tlet pic = placeholder;\n\t\tif (this.props.imgSrc) {\n\t\t\tpic = this.props.imgSrc;\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"showcase\">\n\t\t\t\t<img id=\"myImg\" src={pic} ref={this.imgRef} />\n\t\t\t\t<canvas\n\t\t\t\t\tid=\"myCan\"\n\t\t\t\t\twidth={this.state.cwidth}\n\t\t\t\t\theight={this.state.cheight}\n\t\t\t\t/>\n\t\t\t\t<ToastsContainer store={ToastsStore} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Showcase;\n","import \"./Display.css\";\nimport React from \"react\";\nimport Camera from \"./Camera\";\nimport ImageUpload from \"./ImageUpload\";\nimport Showcase from \"./Showcase\";\n\nclass Display extends React.Component {\n\tstate = { imgSrc: undefined };\n\n\tonCapture = img => {\n\t\tthis.props.onPhoto(img);\n\t};\n\n\tonSelect = img => {\n\t\tthis.props.onPhoto(img);\n\t};\n\n\tgetRenderContent() {\n\t\tif(this.props.inMode===\"showcase\"){\n\t\t\treturn <Showcase imgSrc={this.props.imgSrc} showLog={this.props.showLog} detectNow={this.props.detectNow}/>;\n\t\t}else if (this.props.inMode === \"camera\") {\n\t\t\treturn <Camera onCapture={this.onCapture} />;\n\t\t} else {\n\t\t\treturn <ImageUpload onSelect={this.onSelect} />;\n\t\t}\n\t\n\t}\n\trender() {\n\t\treturn <div className=\"display\">{this.getRenderContent()}</div>;\n\t}\n}\n\nexport default Display;\n","import \"./App.css\";\nimport React from \"react\";\nimport ControlPanel from \"./ControlPanel\";\nimport Display from \"./Display\";\n\nimport * as faceapi from \"face-api.js\";\nconst MODEL_URL = process.env.PUBLIC_URL + \"/models\";\n\nclass App extends React.Component {\n\tstate = { inMode: \"browse\", logMsg: \"Welcome\", imgSrc: null };\n\n\tsetInputMode = mode => {\n\t\tthis.setState({ inMode: mode });\n\t};\n\n\tloadDetectionModel = async () => {\n\t\t//await faceapi.loadFaceDetectionModel(MODEL_URL);\n\t\tawait faceapi.loadSsdMobilenetv1Model(MODEL_URL);\n\t\t//await faceapi.loadTinyFaceDetectorModel(MODEL_URL);\n\t\tthis.setState({ logMsg: \"Face detection model loaded\" });\n\t};\n\n\tloadLandmarkModel = async () => {\n\t\t//await faceapi.loadFaceLandmarkModel(MODEL_URL);\n\t\tawait faceapi.loadFaceLandmarkTinyModel(MODEL_URL);\n\t\tthis.setState({ logMsg: \"Face landmark detection model loaded\" });\n\t};\n\n\tloadExpressionModel = async () => {\n\t\tawait faceapi.loadFaceExpressionModel(MODEL_URL);\n\t\tthis.setState({ logMsg: \"Face expression detection model loaded\" });\n\t};\n\n\tloadMtcnnModel = async () => {\n\t\tawait faceapi.loadMtcnnModel(MODEL_URL);\n\t\tthis.setState({ logMsg: \"Mtcnn model loaded\" });\n\t};\n\n\tasync componentDidMount() {\n\t\tawait this.loadDetectionModel();\n\t\tawait this.loadLandmarkModel();\n\t\tawait this.loadExpressionModel();\n\t\t//await this.loadMtcnnModel();\n\t\tthis.setState({ logMsg: null });\n\t}\n\n\tshowLog = msg => {\n\t\tthis.setState({ logMsg: msg, inMode: \"showcase\" });\n\t};\n\n\tonPhoto = imgSrc => {\n\t\tconsole.log(\"Photo got\");\n\t\tthis.setState({ inMode: \"showcase\", imgSrc: imgSrc });\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<Display\n\t\t\t\t\tinMode={this.state.inMode}\n\t\t\t\t\tshowLog={this.showLog}\n\t\t\t\t\tonPhoto={this.onPhoto}\n\t\t\t\t\timgSrc={this.state.imgSrc}\n\t\t\t\t\tdetectNow={true}\n\t\t\t\t/>\n\t\t\t\t<ControlPanel\n\t\t\t\t\tsetInputMode={this.setInputMode}\n\t\t\t\t\tlog={this.state.logMsg}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}